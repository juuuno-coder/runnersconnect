<div class="min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-7xl mx-auto">
    <!-- Ìó§Îçî -->
    <div class="mb-12">
      <h1 class="text-4xl font-black text-gray-900 mb-2">üì¶ Ï£ºÎ¨∏ ÎÇ¥Ïó≠</h1>
      <p class="text-lg text-gray-600">ÎÇòÏùò Ï£ºÎ¨∏ ÎÇ¥Ïó≠ÏùÑ ÌôïÏù∏ÌïòÏÑ∏Ïöî</p>
    </div>

    <% if @orders.empty? %>
      <!-- Ï£ºÎ¨∏ ÎÇ¥Ïó≠ ÏóÜÏùå -->
      <div class="bg-white rounded-3xl shadow-sm border border-gray-200 p-16 text-center">
        <div class="text-6xl mb-4">üì¶</div>
        <h3 class="text-2xl font-black text-gray-900 mb-2">Ï£ºÎ¨∏ ÎÇ¥Ïó≠Ïù¥ ÏóÜÏäµÎãàÎã§</h3>
        <p class="text-gray-600 mb-6">ÏßÄÍ∏à Î∞îÎ°ú ÏáºÌïëÏùÑ ÏãúÏûëÌï¥Î≥¥ÏÑ∏Ïöî!</p>
        <%= link_to "ÏáºÌïëÌïòÍ∏∞", races_path, class: "inline-block px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl transition-all" %>
      </div>
    <% else %>
      <!-- Ï£ºÎ¨∏ Î™©Î°ù -->
      <div class="space-y-6">
        <% @orders.each do |order| %>
          <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
            <!-- Ï£ºÎ¨∏ Ìó§Îçî -->
            <div class="bg-gray-50 px-8 py-4 border-b border-gray-200 flex items-center justify-between">
              <div class="flex items-center gap-6">
                <div>
                  <p class="text-xs text-gray-500 mb-1">Ï£ºÎ¨∏Î≤àÌò∏</p>
                  <p class="font-black text-gray-900"><%= order.order_number %></p>
                </div>
                <div>
                  <p class="text-xs text-gray-500 mb-1">Ï£ºÎ¨∏ÏùºÏãú</p>
                  <p class="font-bold text-gray-700"><%= order.created_at.strftime('%Y.%m.%d %H:%M') %></p>
                </div>
              </div>

              <!-- Ï£ºÎ¨∏ ÏÉÅÌÉú -->
              <div>
                <span class="inline-flex items-center px-4 py-2 rounded-full font-bold text-sm <%= case order.status
                  when 'pending' then 'bg-yellow-100 text-yellow-800'
                  when 'paid' then 'bg-green-100 text-green-800'
                  when 'shipped' then 'bg-blue-100 text-blue-800'
                  when 'delivered' then 'bg-purple-100 text-purple-800'
                  when 'cancelled' then 'bg-red-100 text-red-800'
                  end %>">
                  <%= case order.status
                      when 'pending' then '‚è≥ Í≤∞Ï†ú ÎåÄÍ∏∞'
                      when 'paid' then '‚úÖ Í≤∞Ï†ú ÏôÑÎ£å'
                      when 'shipped' then 'üöö Î∞∞ÏÜ° Ï§ë'
                      when 'delivered' then 'üì¶ Î∞∞ÏÜ° ÏôÑÎ£å'
                      when 'cancelled' then '‚ùå Ï∑®ÏÜåÎê®'
                      end %>
                </span>
              </div>
            </div>

            <!-- Ï£ºÎ¨∏ ÏÉÅÌíà -->
            <div class="p-8">
              <div class="space-y-4 mb-6">
                <% order.order_items.limit(3).each do |item| %>
                  <div class="flex gap-4 items-center">
                    <!-- ÏÉÅÌíà Ïù¥ÎØ∏ÏßÄ -->
                    <div class="w-20 h-20 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg overflow-hidden flex-shrink-0">
                      <% if item.product.images.attached? %>
                        <%= image_tag item.product.images.first, class: "w-full h-full object-cover" %>
                      <% else %>
                        <div class="w-full h-full flex items-center justify-center">
                          <div class="text-2xl">üéΩ</div>
                        </div>
                      <% end %>
                    </div>

                    <!-- ÏÉÅÌíà Ï†ïÎ≥¥ -->
                    <div class="flex-1">
                      <h3 class="font-bold text-gray-900 mb-1"><%= item.product.name %></h3>
                      <p class="text-sm text-gray-500"><%= item.product.race.title %></p>
                    </div>

                    <!-- ÏàòÎüâ Î∞è Í∞ÄÍ≤© -->
                    <div class="text-right">
                      <p class="text-sm text-gray-500 mb-1"><%= item.quantity %>Í∞ú</p>
                      <p class="font-bold text-gray-900">
                        <%= number_to_currency(item.subtotal, precision: 0) %>
                      </p>
                    </div>
                  </div>
                <% end %>

                <% if order.order_items.count > 3 %>
                  <p class="text-sm text-gray-500 text-center">Ïô∏ <%= order.order_items.count - 3 %>Í∞ú</p>
                <% end %>
              </div>

              <!-- Ï¥ùÏï° Î∞è Î≤ÑÌäº -->
              <div class="flex items-center justify-between pt-6 border-t border-gray-100">
                <div>
                  <p class="text-sm text-gray-500 mb-1">Ï¥ù Í≤∞Ï†ú Í∏àÏï°</p>
                  <p class="text-2xl font-black text-blue-600">
                    <%= number_to_currency(order.total_amount, precision: 0) %>
                  </p>
                </div>

                <div class="flex gap-3">
                  <%= link_to "ÏÉÅÏÑ∏ Î≥¥Í∏∞", order_path(order), class: "px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl transition-all" %>
                  <% if order.pending? %>
                    <button class="px-6 py-3 bg-red-50 hover:bg-red-100 text-red-600 font-bold rounded-xl transition-all">
                      Ï£ºÎ¨∏ Ï∑®ÏÜå
                    </button>
                  <% end %>
                </div>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
</div>
