<div class="max-w-6xl mx-auto px-6 py-16">
  <div class="mb-8">
    <%= link_to admin_root_path, class: "inline-flex items-center text-sm font-bold text-gray-500 hover:text-gray-700 mb-4" do %>
      <svg class="w-4 h-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
      Admin Dashboard로 돌아가기
    <% end %>
  </div>

  <div class="flex items-center justify-between mb-8">
    <div>
      <h1 class="text-3xl font-black text-gray-900 mb-2">대회 관리</h1>
      <p class="text-gray-500 font-medium">등록된 대회를 관리하고 새로운 대회를 추가하세요</p>
    </div>
    <%= link_to new_admin_race_path, class: "inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-black rounded-xl transition-all shadow-lg shadow-blue-200" do %>
      <svg class="w-5 h-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>
      새 대회 등록
    <% end %>
  </div>

  <div class="bg-white rounded-[2.5rem] shadow-sm border border-gray-100 overflow-hidden">
    <table class="w-full">
      <thead class="bg-gray-50 border-b border-gray-100">
        <tr>
          <th class="px-6 py-4 text-left text-xs font-black text-gray-500 uppercase tracking-widest">대회명</th>
          <th class="px-6 py-4 text-left text-xs font-black text-gray-500 uppercase tracking-widest">장소</th>
          <th class="px-6 py-4 text-left text-xs font-black text-gray-500 uppercase tracking-widest">개최일</th>
          <th class="px-6 py-4 text-left text-xs font-black text-gray-500 uppercase tracking-widest">상태</th>
          <th class="px-6 py-4 text-left text-xs font-black text-gray-500 uppercase tracking-widest">접수기간</th>
          <th class="px-6 py-4 text-right text-xs font-black text-gray-500 uppercase tracking-widest">관리</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-100">
        <% @races.each do |race| %>
          <tr class="hover:bg-gray-50 transition-colors">
            <td class="px-6 py-4">
              <%= link_to admin_race_path(race), class: "font-bold text-gray-900 hover:text-blue-600" do %>
                <%= race.title %>
              <% end %>
            </td>
            <td class="px-6 py-4 text-sm text-gray-600"><%= race.location %></td>
            <td class="px-6 py-4 text-sm text-gray-600">
              <%= race.start_at&.strftime("%Y-%m-%d") %>
            </td>
            <td class="px-6 py-4">
              <% status_class = case race.status
                when 'draft' then 'bg-gray-100 text-gray-600'
                when 'open' then 'bg-green-100 text-green-600'
                when 'closed' then 'bg-red-100 text-red-600'
                when 'finished' then 'bg-blue-100 text-blue-600'
                end %>
              <span class="px-3 py-1 <%= status_class %> rounded-full text-xs font-bold">
                <%= race.status.upcase %>
              </span>
            </td>
            <td class="px-6 py-4 text-sm text-gray-600">
              <% if race.registration_start_at && race.registration_end_at %>
                <%= race.registration_start_at.strftime("%m/%d") %> ~ <%= race.registration_end_at.strftime("%m/%d") %>
              <% else %>
                <span class="text-gray-400">미설정</span>
              <% end %>
            </td>
            <td class="px-6 py-4 text-right">
              <div class="flex items-center justify-end space-x-2">
                <%= link_to "수정", edit_admin_race_path(race), class: "text-sm font-bold text-blue-600 hover:text-blue-700" %>
                <%= link_to "삭제", admin_race_path(race), method: :delete, data: { turbo_confirm: "정말 삭제하시겠습니까?" }, class: "text-sm font-bold text-red-600 hover:text-red-700" %>
              </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>

    <% if @races.empty? %>
      <div class="text-center py-16">
        <div class="w-20 h-20 bg-gray-100 rounded-full mx-auto mb-6 flex items-center justify-center">
          <svg class="w-10 h-10 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
        </div>
        <h3 class="text-xl font-black text-gray-900 mb-2">등록된 대회가 없습니다</h3>
        <p class="text-gray-500 font-medium mb-6">첫 번째 대회를 등록해보세요</p>
        <%= link_to "새 대회 등록", new_admin_race_path, class: "inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-black rounded-xl transition-all" %>
      </div>
    <% end %>
  </div>
</div>
